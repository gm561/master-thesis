The idea of the algorithm $Gen$ is to output a circuit $D$ that solves the input puzzle often.
We know that $C$ has good success probability for a $k$-wise product of $P^{(1)}$.
The algorithm $Gen$ tries to find a puzzle such that when $C$ runs with this puzzle fixed
on the first position, and disregards whether this puzzle is correctly solved
then the assumptions of Theorem \ref{th:sec_amp_for_dwvp} are true for a $k-1$-wise direct product.
If it is possible to find such a puzzle then $Gen$ could recurse and solve a smaller problem.
In the optimistic case we can reach $k=1$, which means that we found a good circuit for solving a single
puzzle by just fixing the initial puzzles of $C$.

Otherwise, when the first position is disregarded then the success probability of $C$ is not substantially better.
This is remarkable, as we know that $C$ performs good for $k$-wise product, it means that the first position is important,
in the sense that $C$ solves the puzzle on that position unusually often.
Therefore, it is reasonable to construct the circuit $D$ using $C$ by placing the input puzzle of $D$ on that position, and then
finding remaining $k-1$ puzzles. These $k-1$ remaining puzzles are generated by the circuit $D$, hence it is possible to check
whether they are correctly solved by the circuit $C$. We know that circuit $C$ has good success probability, and the puzzle on the first
position is important. Therefore, if we are able to find a $k-1$ puzzles such that the fact whether the $k$-wise direct product is correctly
solved depends on whether the puzzle on the first position is correctly solved then we can assume that $C$ is often correct on this first position.

There are some problems with this approach, first we have to ensure that we can make a decision when the algorithm $Gen$ should recurse and when not
correctly with high probability. Then, we have to show that it is possible to find a puzzles such that $C$ is often correct on the first position.
Finally, we also have to be sure that we do not ask a hint query, on the final verification query to the oracle.
To satisfy the last requirement we split $Q$.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../thesis"
%%% End:
